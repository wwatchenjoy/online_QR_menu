# 1. Цель проекта
Цель проекта - создание системы онлайн меню, интегрированной с R-Keeper и iiko(далее Система). Гость, приходя в заведение, сможет отсканировать уникальный для каждого стола QR код и получить доступ к меню, с возможностью сделать заказ, добавить в него новые позиции, оплачивать за себя или за несколько Гостей.

# 2. Описание системы
Система состоит из следующих основных функциональных блоков:<br/>
1. Блок интеграции с R-Keeper или iiko
2. Блок генерации QR кодов
3. Функционал для 1 гостя
4. Функционал для официанта
5. Функционал для нескольких гостей в сессии
6. Функционал для владельца

## 2.1 Типы пользователей
Система предусматривает четыре типа пользователей: Владелец, один Гость, Сессия Гостей, Официант.<br/>
Гость может сделать заказ, у нескольких Гостей в сессии функционал пополняется возможностью платить только за себя или за всех.<br/>
Владелец получает доступ к аналитике по заведению.<br/>
Официант выполняет свою обычную работу с терминалом R-Keeper или iiko, интегрированным с Системой.

## 2.2 Интеграция с R-Keeper или iiko
R-Keeper и iiko имеют открые API<br/>
https://docs.rkeeper.ru/delivery/vozmoyonosti-api<br/>
https://ru.iiko.help/articles/#!api-documentations/api-newprj<br/>
Весь основной функционал терминалов заведения остается неизменным. Система лишь вносит новые данные, либо запрашивает имеющиеся.<br/>
Система с помощью API должна фактически заменить функцию официанта и автоматически обновлять данные в терминале:<br/>
<br/>
На стороне Гостя:
1. Создание заказа
2. Изменение заказа
3. Уведомление о желании оплатить счет<br/>

На стороне заведения:
1. Изменения в меню(позиций, цен)
2. Формирование стоп-листов
3. Формирование рекомендаций
4. Уведемление официанта о желании Гостя оплатить счет<br/>

На стороне владельца:
1. Сбор необходимых данных для аналитики
2. Контроль состояния заведения по запросу

## 2.3 Генератор QR кодов
Так как в заведениях зачастую используется нумерация столов, которая позволяет Официантам ориентироваться между заказами Гостей и понимать кому и что нужно принести, то необходимо создать генератор QR кодов, каждый из которых будет являться привязкой конкретного заказа к конкретному столу. Переход по QR коду и подвержение заказа  на странице должны автоматически создавать тикет заказа в терминале(R-Keeper или iiko).

## 2.4 Функционал для одного гостя
Послеперхода по QR коду и  выбора интересующих позиций, гостю предлагается список Рекомендаций, которыми он может пополнить свой заказ. <br/>
Далее Гость подтверждает свой заказ, после чего тикет на заказ появляется в Системе. Официант как и обычно начинает работать с терминалом(R-Keeper или iiko) и приносить позиции из заказа Гостю.<br/>
Также у гостя есть возможность довавить позиции в свой заказ("Заказать еще"), что также изменяет тикет в системе.<br/>
Когда Гость готов оплатить заказ, ему будет достаточно нажать одну кнопку, после чего на Telegram-бота для Официантов приходит уведомление.

## 2.5 Функционал для официантов
Для реализации функционала уведомления Официанта о желании Гостя оплатить заказ необходимо создать один Telegram-бот на заведение, в который автоматически приходят уведомления в формате:<br/>
**"Стол №n готов оплатить заказ на сумму k"**.<br/>
После получения уведомления Официант подходит к столу с терминалом для оплаты(как и обычно).

## 2.6 Функционал для нескольких гостей в сессии
Главное отличие одного человека от компании Гостей заключается в записи сразу нескольких заказов за один стол.<br/>
Поэтому в функционал Системы необходимо включить возможность создания Сессий. Сессия - сканирование QR кода несколькими Гостями в один период времени, с созданием в приложении отдельной страницы с группой Гостей, где отображается:<br/>
1. Количество Гостей в сессии
2. Список Гостей, с указанием суммы заказа каждого Гостя
3. Выбор способа оплаты: "За себя" или "За всех"
### 2.6.1 Способы оплаты





























